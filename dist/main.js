(()=>{"use strict";var e={d:(t,n)=>{for(var d in n)e.o(n,d)&&!e.o(t,d)&&Object.defineProperty(t,d,{enumerable:!0,get:n[d]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{d:()=>o});let t=(()=>{let e=e=>{for(;e.firstChild;)e.removeChild(e.firstChild)};return{makeButton:()=>{let t=document.getElementById("buttonContainer");e(t);let n=document.createElement("div"),d=document.createTextNode("+ New Task");n.appendChild(d),n.setAttribute("id","newTaskButton"),t.appendChild(n)},makeForm:()=>{let t=document.getElementById("buttonContainer");e(t);let n=document.createElement("form");n.setAttribute("id","buttonForm");let d=document.createElement("input");d.setAttribute("id","buttonFormInput"),d.type="text",d.name="taskName",n.appendChild(d),t.appendChild(n),d.focus()}}})(),n=(()=>{let e=[],t=()=>{let e=(new Date).toLocaleDateString(),t=e.split("/"),n=t[0],d=t[1];return n=n.padStart(3,"0").slice(-2),d=d.padStart(3,"0").slice(-2),t[0]=t[2],t[1]=n,t[2]=d,e=t.join("-"),e},n=e=>{console.log(`tasksToLoad: ${o}`);let t=document.getElementById("taskContainer");a(t);for(let n in e){console.log(`tasksToLoad: ${o}`);let a=document.createElement("div");a.classList.add("task");let l=document.createElement("div");l.classList.add("taskStatus");let i=document.createElement("div");i.classList.add("notDone");let s=document.createElement("i");s.classList.add("far","fa-circle");let c=document.createElement("div");c.classList.add("taskTextContainer");let r=document.createElement("p");r.classList.add("taskText");let m=document.createTextNode(e[n][0]),u=document.createElement("form");u.classList.add("taskDate");let p=document.createElement("label");p.for="dueDate";let h=document.createElement("input");h.type="date",h.class="dueDate",h.name="dueDate",e[n][1]&&(h.value=e[n][1]),h.addEventListener("change",(()=>{let t=h.value;e[n].push(t)})),u.appendChild(p),u.appendChild(h),i.prepend(s),r.appendChild(m),c.appendChild(r),d(c),l.appendChild(i),l.appendChild(c),a.appendChild(l),a.appendChild(u),t.appendChild(a)}},d=e=>{let t=e.firstChild;t.addEventListener("click",(()=>{t.remove();let n=document.createElement("form");n.classList.add("newTextForm");let o=document.createElement("input");o.type="text",o.name="newTaskName",o.classList.add("newTextInput"),n.appendChild(o),n.addEventListener("submit",(()=>{a(e);let t=document.createElement("p");t.classList.add("taskText");let n=document.createTextNode(o.value);t.appendChild(n),e.appendChild(t),d(e)})),e.appendChild(n)}))},a=e=>{for(;e.firstChild;)e.removeChild(e.firstChild)};return{loadInbox:()=>{n(e)},loadToday:()=>{console.log("AHHHH");let d=[],o=t();for(let t in e)e[t][1]===o&&d.push(e[t]);console.log(d),n(d)},construct:n=>{"today"===o?(console.log(t()),e.push([n,t()]),console.log("pushed?")):e.push([n]),console.log("task array is",e)},taskArray:e}})(),d={init:()=>{document.querySelectorAll(".notDone").forEach((e=>{e.addEventListener("click",(()=>{(e=>{for(;e.firstChild;)e.removeChild(e.firstChild)})(e);let t=document.createElement("i");t.classList.add("fas","fa-check-circle"),e.prepend(t);let d=e.parentNode.parentNode;n.taskArray.splice(Array.from(d.parentNode.children).indexOf(d),1),d.classList.add("fadingTask"),setTimeout((()=>{taskContainer.removeChild(e.parentNode.parentNode)}),500)}))}))}},o="inbox",a=()=>{document.getElementById("newTaskButton").addEventListener("click",(()=>{t.makeForm(),l()}))},l=()=>{let e=document.getElementById("buttonForm"),o=document.getElementById("buttonFormInput");e.addEventListener("submit",(()=>{let e=o.value;n.construct(e),i(),d.init(),t.makeButton(),a()}))},i=()=>{"inbox"===o?(console.log("loading inbox"),n.loadInbox()):"today"===o?(console.log("loading today"),n.loadToday()):"week"===o&&(console.log("loading week"),n.loadWeek())},s=document.getElementById("inbox"),c=document.getElementById("today"),r=document.getElementById("week");s.addEventListener("click",(()=>{console.log("inbox"),o="inbox",i(),d.init()})),c.addEventListener("click",(()=>{console.log("today"),o="today",i(),d.init()})),r.addEventListener("click",(()=>{console.log("week"),o="week",i(),d.init()})),t.makeButton(),a()})();